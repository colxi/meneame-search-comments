<html>
  <head>
    <script src="main.js"></script>
  </head>
  <body>
    <h3>Search user comments</h3>
    <label>Username</label>
    <input type="text" id="usernameInput"/>
    <label>Search for</label>
    <input type="text" id="searchQueryInput"/>
    <label>Max pages to check</label>
    <input type="number" id="maxPagesInput" min="0" value="10"/>
    <input type="button" id="submitButton"/ value="Search...">
    <pre id="resultsContainer"></pre>
  </body>
  <script>
    const DOM = {
      submitButton : document.getElementById('submitButton'),
      usernameInput : document.getElementById('usernameInput'),
      maxPagesInput : document.getElementById('maxPagesInput'),
      searchQueryInput : document.getElementById('searchQueryInput'),
      resultsContainer :  document.getElementById('resultsContainer')
    }
    
    DOM.submitButton.addEventListener('click', async ()=>{
      console.log('click')
      const username = DOM.usernameInput.value.trim()
      const searchQuery = DOM.searchQueryInput.value.trim()
      const maxPages = Number(DOM.maxPagesInput.value)
      const results = await findUserComments(username, searchQuery, maxPages )
      DOM.resultsContainer.innerText = results.join('\n')
    })
  </script>
</html>
